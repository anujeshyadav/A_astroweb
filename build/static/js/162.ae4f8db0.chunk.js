(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[162],{1104:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));var n=a(897),l=a(206),r=a(201),s=a(202),o=a(203),i=a(204),c=a(0),m=a.n(c),d=a(686),u=a.n(d),p=a(700),g=a(715),h=a(48),f=a.n(h),v=a(118),E=a(737),b=a(732),y=a(925),N=a(695),S=a(678),w=a.n(S),C=a(26),H=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onChangeHandler=function(e){s.setState({selectedFile:e.target.files[0]}),s.setState({selectedName:e.target.files[0].name}),console.log(e.target.files[0])},s.otpHandler=function(e){e.preventDefault(),console.log(s.state),f.a.post("http://65.2.175.154:8000/user/userVryfyotp",{mobile:parseInt(s.state.mobile),otp:parseInt(s.state.otp)}).then((function(e){var t,a,n,l,r,o;(console.log("@@@####",e.data),!0===e.data.status)&&(s.setState({otpMsg:e.data.msg}),localStorage.setItem("userData",JSON.stringify(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)),localStorage.setItem("token",JSON.stringify(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.token)),localStorage.setItem("user_id",JSON.stringify(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l._id)),localStorage.setItem("user_mobile_no",JSON.stringify(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.mobile)),"otp verified"===e.data.msg&&(w()("otp verified"),s.props.history.push("/")))})).catch((function(e){console.log(e)}))},s.handlechange=function(e){e.preventDefault(),s.setState(Object(l.a)({},e.target.name,e.target.value))},s.loginHandler=function(e){e.preventDefault();var t={mobile:parseInt(s.state.mobile)};C.a.post("/user/userlogin",t).then((function(e){console.log("@@@####",e.data),s.setState({otpMsg:e.data.msg}),"otp Send Successfully"===e.data.msg&&w()("otp Send Successfully")})).catch((function(e){console.log(e),console.log(e.response),w()("Error!","User doesn't Exist","error")}))},s.changeHandler=function(e){e.preventDefault(),s.setState(Object(l.a)({},e.target.name,e.target.value))},s.submitHandler=function(e){e.preventDefault(),console.log(s.state.data);var t=new FormData;t.append("fullname",s.state.fullname),t.append("email",s.state.email),t.append("mobile",s.state.mobile),t.append("gender",s.state.gender),t.append("city",s.state.city),t.append("dob",s.state.dob),t.append("password",s.state.password),t.append("cnfmPassword",s.state.cnfrmpassword),null!==s.state.selectedFile&&t.append("userimg",s.state.selectedFile,s.state.selectedName);var a,l=Object(n.a)(t.values());try{for(l.s();!(a=l.n()).done;){var r=a.value;console.log(r)}}catch(m){l.e(m)}finally{l.f()}var o,i=Object(n.a)(t.keys());try{for(i.s();!(o=i.n()).done;){var c=o.value;console.log(c)}}catch(m){i.e(m)}finally{i.f()}s.state.password===s.state.cnfrmpassword?C.a.post("/user/usersignup",t).then((function(e){console.log(e.data.msg),localStorage.setItem("auth-token",e.data.token),s.setState({otpMsg:e.data.otp}),w()("Success!"," Register Successful Done!","success"),s.props.history.push("/")})).catch((function(e){console.log("already exists"===e.response.data.message),"already exists"===e.response.data.message&&w()("user Already register with same mobile and email")})):w()("Password and Confirm password does not match")},s.state={fullname:"",email:"",mobile:"",dob:"",gender:"",city:"",userimg:"",selectedName:"",password:"",cnfrmpassword:"",selectedFile:null,otp:"",otpMsg:""},s}return Object(s.a)(a,[{key:"render",value:function(){return m.a.createElement(c.Fragment,null,m.a.createElement(u.a,null,m.a.createElement("title",null,"AstroVipra"),m.a.createElement("meta",{name:"description",content:"Compare page of flone react minimalist eCommerce template."})),m.a.createElement(v.a,{headerTop:"visible"},m.a.createElement("div",{className:"login-register-area pt-100 pb-100"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},m.a.createElement("div",{className:"col-lg-7 col-md-12 ml-auto mr-auto"},m.a.createElement("div",{className:"login-register-wrapper"},m.a.createElement(p.a.Container,{defaultActiveKey:"login"},m.a.createElement(g.a,{variant:"pills",className:"login-register-tab-list"},m.a.createElement(g.a.Item,null,m.a.createElement(g.a.Link,{eventKey:"login"},m.a.createElement("h4",null,"Login"))),m.a.createElement(g.a.Item,null,m.a.createElement(g.a.Link,{eventKey:"register"},m.a.createElement("h4",null,"Register")))),m.a.createElement(p.a.Content,null,m.a.createElement(p.a.Pane,{eventKey:"login"},m.a.createElement("div",{className:"login-form-container"},"otp Send Successfully"===this.state.otpMsg?m.a.createElement("div",{className:"login-register-form"},m.a.createElement(E.a,{onSubmit:this.otpHandler},m.a.createElement(b.a,{type:"number",name:"otp",required:!0,placeholder:"Enter otp",value:this.state.otp,onChange:this.changeHandler}),m.a.createElement("div",{className:"button-box"},m.a.createElement("div",{className:"login-toggle-btn"}),m.a.createElement("button",{type:"submit"},m.a.createElement("span",null,"Otp Verify"))))):m.a.createElement("div",{className:"login-register-form"},m.a.createElement(E.a,{onSubmit:this.loginHandler},m.a.createElement(b.a,{type:"number",name:"mobile",maxLength:"12",required:!0,placeholder:"Enter Your Mobile No.",value:this.state.mobile,onChange:this.changeHandler}),m.a.createElement("div",{className:"button-box"},m.a.createElement("div",{className:"login-toggle-btn"}),m.a.createElement("button",{type:"submit"},m.a.createElement("span",null,"Login"))))))),m.a.createElement(p.a.Pane,{eventKey:"register"},m.a.createElement("div",{className:"login-form-container"},m.a.createElement("div",{className:"login-register-form"},m.a.createElement(E.a,{className:"text-center",onSubmit:this.submitHandler,method:"post"},m.a.createElement(b.a,{type:"text",name:"fullname",required:!0,placeholder:"Enter Your Fullname",value:this.state.fullname,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"email",name:"email",required:!0,placeholder:"Enter Your Email",value:this.state.email,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"number",name:"mobile",maxLength:"12",required:!0,placeholder:"Enter Your Mobile No.",value:this.state.mobile,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"date",name:"dob",required:!0,placeholder:"Date of birth",value:this.state.dob,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"text",name:"city",required:!0,placeholder:"Enter city",value:this.state.city,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"password",name:"password",required:!0,placeholder:"Enter Password",value:this.state.password,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"password",name:"cnfrmpassword",required:!0,placeholder:"Enter Confirm Password",value:this.state.cnfrmpassword,onChange:this.changeHandler}),m.a.createElement(b.a,{type:"select",name:"gender",placeholder:"",value:this.state.gender,onChange:this.changeHandler},m.a.createElement("option",null,"Select Gender"),m.a.createElement("option",null,"Male"),m.a.createElement("option",null,"Female")),m.a.createElement(y.a,null,"User Image"),m.a.createElement(b.a,{type:"file",name:"userimg",onChange:this.onChangeHandler}),m.a.createElement("div",{className:"button-box"},m.a.createElement(N.a,{type:"submit"},m.a.createElement("span",null,"Register")))))))))),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"login-form-container"},m.a.createElement("div",{className:"login-register-form"},m.a.createElement("div",{className:"button-box"},m.a.createElement("div",{className:"login-toggle-btn"})))))))))))}}]),a}(c.Component)}}]);
//# sourceMappingURL=162.ae4f8db0.chunk.js.map